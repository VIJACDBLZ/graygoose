#summary Инструкция по развёртыванию приложения

= Инструкция по развёртыванию приложения =

В этой инструкции подробно описывается последовательность действий для самостоятельной настройки и запуска проекта *Graygoose* на базе инфраструктуры *Google App Engine* (далее *GAE*). Более подробную информацию о *GAE* Вы можете найти в [http://code.google.com/intl/ru/appengine/docs/whatisgoogleappengine.html руководстве для начинающих].

 * ==== Предварительная настройка системы ====
 Для работы с проектом Вам понадобятся программы *Apache Subversion* (для выписки исходников из раздела *Source*) и *Apache Maven 2* (для сборки приложения). Подробную информацию можно получить на домашних страницах программ http://subversion.apache.org/ и http://maven.apache.org/.
 * ==== Установка дополнительных библиотек ====
 Дополнительно для сборки проекта Вам необходимо установить ряд библиотек *GData* (*Google Data API*) в локальное хранилище *Maven 2*. Для этого переходим в папку _*lib/gdata*_ и запускаем _*installall.bat*_ (здесь и далее все пути будут приводиться относительно корневого каталога проекта).
 * ==== Конфигурация проекта ====
 Профили конфигурации проекта находятся в каталоге _*code/graygoose/profiles*_, файлы конфигурации *GAE* - в каталоге _*code/graygoose/src/main/filter-webapp/WEB-INF*_. Минимальная настройка заключается в установке параметров _*application.name*_ и _*mail.from*_ в профиле проекта _*profiles.xml.prod*_, а также параметра _*version*_ в файле настройки *GAE* _*appengine-web.xml*_.
   # _*application.name*_ - это имя зарегистрированного Вами домена *GAE*.
   # _*mail.from*_ - почтовый адрес одного из администраторов домена *GAE*, от имени которого и будет производиться рассылка оповещений.
   # _*version*_ - версия приложения *GAE*; если Вы собираете приложение первый раз или не планируете поддержку одновременной работы нескольких версий приложений, рекомендуется установить это параметр равным *1*.
 * ==== Сборка проекта ====
 После завершения всех предыдущих шагов можно запустить сборку проекта. Для этого запускаем _*code/graygoose/make.bat*_ с параметром _*prod*_ (имя профиля). В первый раз этот процесс может занять длительное время, так как *Maven* будет загружать надстройки и зависимости, отсутствующие в локальном хранилище.
 * ==== Развёртывание приложения ====
 Теперь мы подошли к завершающему шагу, а именно к развёртыванию приложения на домене *GAE*. Запускаем _*code/graygoose/deploy.bat*_ с параметром _*<ИмяВашегоДомена>*_ (должен совпадать с _*application.name*_) и ждём, пока проект загрузится на сервер и скомпилируется. В зависимости от загруженности серверов *Google*, некоторое дополнительное время может уйти на построение индексов таблиц с данными перед тем, как приложение заработает. Наблюдать за этим процессом можно из раздела *Datastore Indexes* панели администрирования домена *GAE*.